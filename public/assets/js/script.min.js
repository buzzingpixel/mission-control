function runFabController(l){"use strict";if(void 0!==window.jQuery){var s=window.jQuery,n={},i=[],e=function(e,r){var t;return"object"==typeof e?(r=e,e=null):"string"!=typeof e&&(r={},e=null),t=function(e){var t,n,i=this,o=$.extend(!0,{},r);for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);if(i.el?"string"==typeof i.el?(i.$el=$(i.el),i.el=i.$el.get(0)):i.el instanceof s?(i.$el=i.el,i.el=i.$el.get(0)):i.el instanceof HTMLElement&&(i.$el=$(i.el)):(i.$el=$("<div></div>"),i.el=i.$el.get(0)),"object"==typeof i.model&&void 0!==l.model?l.model.validateGuid(i.model.guid)||(n=l.model.make(i.model),i.model=new n):void 0!==this.model&&(i.model=null),"function"==typeof i.init&&(Array.prototype.shift.apply(arguments),i.init.apply(i,arguments)),"object"==typeof i.events)for(t in i.events)i.events.hasOwnProperty(t)&&"function"==typeof i.events[t]&&function(e,t){e[1]?i.$el.on(e[0],e[1],function(){t.apply(i,arguments)}):i.$el.on(e[0],function(){t.apply(i,arguments)})}(t.split(" "),i.events[t])},e&&(n[e]=t),t};l.controller={make:function(){return e.apply(e,arguments)},construct:function(e){var t;return"function"!=typeof n[e]?null:(t=new(Function.prototype.bind.apply(n[e],arguments)),i.push(t),t)}}}else setTimeout(function(){runFabController(l)},10)}function runFilterable(o){"use strict";window.jQuery&&o.controller&&o.model?o.controller.make("Filterable",{$itemsContainer:null,$activeItems:null,$allItems:null,$searchInput:null,searchTimer:0,init:function(){var e=this;e.$itemsContainer=e.$el.find(".JS-Filterable__ItemsContainer"),e.$activeItems=e.$el.find(".JS-Filterable__Items"),e.$allItems=e.$activeItems.clone(),e.$searchInput=e.$el.find(".JS-Filterable__FilterInput"),e.model.onChange("activeSearchString",function(){e.searchStringResponder()})},model:{activeSearchString:"string"},events:{"change .JS-Filterable__FilterInput":function(e){this.model.set("activeSearchString",e.currentTarget.value.toLowerCase())},"keyup .JS-Filterable__FilterInput":function(e){this.model.set("activeSearchString",e.currentTarget.value.toLowerCase())},"keydown .JS-Filterable__FilterInput":function(e){13===e.keyCode&&e.preventDefault()}},searchStringResponder:function(){var e=this;clearTimeout(e.searchTimer),e.searchTimer=setTimeout(function(){e.runSearch()},200)},runSearch:function(){var t,e=this,n=e.model.get("activeSearchString"),i=e.$allItems.clone();n&&(t=$(),i.each(function(){var e=$(this);e.text().toLowerCase().indexOf(n)<0||(t=t.add(e))}),i=t),e.$activeItems.remove(),e.$activeItems=i,e.$itemsContainer.append(e.$activeItems),o.GlobalModel.set("filterHasRun",o.GlobalModel.get("filterHasRun")+1)}}):setTimeout(function(){runFilterable(o)},10)}function runFlatPicker(t){"use strict";window.jQuery&&t.controller&&t.model?t.controller.make("FlatPicker",{init:function(){var e=this;t.GlobalModel.get("flatPickerIsLoading")||e.load(),t.GlobalModel.get("flackPickerHasLoaded")?e.initReal():setTimeout(function(){e.init()},10)},load:function(){t.GlobalModel.set("flatPickerIsLoading",!0),t.assets.load({root:"https://cdn.jsdelivr.net",css:"/npm/flatpickr/dist/flatpickr.min.css"}),t.assets.load({root:"https://cdn.jsdelivr.net",js:"/npm/flatpickr",success:function(){t.GlobalModel.set("flackPickerHasLoaded",!0)}})},initReal:function(){window.flatpickr(this.el,{enableTime:!1,dateFormat:"Y-m-d"})}}):setTimeout(function(){runFlatPicker(t)},10)}function runMobileMenu(i){"use strict";window.jQuery&&i.controller&&i.model?i.controller.make("MobileMenu",{model:{isActive:"bool"},isMobile:!0,events:{"click .JS-MobileMenuActivator":function(e){e.preventDefault(),this.model.set("isActive",!this.model.get("isActive"))}},init:function(){var t=this;t.model.onChange("isActive",function(){t.menuResponder()}),t.resizeResponder(),i.GlobalModel.onChange("windowWidth",function(e){t.resizeResponder(e)})},resizeResponder:function(e){var t=this.isMobile,n=e>=i.GlobalModel.get("menuBreakPoint");n&&t&&(this.model.set("isActive",!1),this.deactivateMenu()),this.isMobile=!n},menuResponder:function(){var e=this,t=e.model.get("isActive"),n=i.GlobalModel.get("menuBreakPoint");window.innerWidth>=n?e.model.get("isActive")&&e.deactivateMenu():t?e.activateMenu():e.deactivateMenu()},activateMenu:function(){var t=this;$(".JS-MobileMenuActivator").each(function(){var e=$(this),t=e.data("activeClass");t&&e.addClass(t)}),$(".JS-MobileNav").each(function(){var e=$(this),t=e.data("preActiveClass"),n=e.data("activeClass");e.addClass(t),setTimeout(function(){e.addClass(n)},20)}),$("body").on("keyup.MobileMenu",function(e){27===e.keyCode&&t.model.set("isActive",!1)})},deactivateMenu:function(){$(".JS-MobileMenuActivator").each(function(){var e=$(this),t=e.data("activeClass");t&&e.removeClass(t)}),$(".JS-MobileNav").each(function(){var e=$(this),t=e.data("preActiveClass"),n=e.data("activeClass");e.removeClass(n),setTimeout(function(){e.removeClass(t)},200)}),$("body").off("keyup.MobileMenu")}}):setTimeout(function(){runMobileMenu(i)},10)}function runPipelineBuilder(t){"use strict";window.jQuery&&t.controller&&t.model?t.controller.make("PipelineBuilder",{templateUniqueId:null,templateHtml:null,$itemsContainer:null,events:{"click .JS-PipelineBuilder__AddItem":function(){var e=this.templateHtml.split(this.templateUniqueId).join(t.uuid.make());this.$itemsContainer.append(e)},"click .JS-PipelineBuilder__AreaRemove":function(e){$(e.currentTarget).closest(".JS-PipelineBuilder__Area").remove()}},init:function(){var e=this;e.$itemsContainer=e.$el.find(".JS-PipelineBuilder__Items"),e.templateHtml=e.$el.find(".JS-PipelineBuilder__InputTemplate").html(),e.templateUniqueId=$(e.templateHtml).data("uniqueId")}}):setTimeout(function(){runPipelineBuilder(t)},10)}function runSelect(t){"use strict";window.jQuery&&t.controller&&t.model?t.controller.make("Select",{init:function(){var e=this;t.GlobalModel.get("selectIsLoading")||e.loadSelect(),t.GlobalModel.get("selectHasLoaded")?e.initReal():setTimeout(function(){e.init()},10)},loadSelect:function(){t.GlobalModel.set("selectIsLoading",!0),t.assets.load({root:"/",js:"assets/node_modules/choices.js/public/assets/scripts/choices.min.js",css:"assets/node_modules/choices.js/public/assets/styles/choices.min.css",success:function(){t.GlobalModel.set("selectHasLoaded",!0)}})},initReal:function(){new window.Choices(this.el,{searchResultLimit:8,shouldSort:!1})}}):setTimeout(function(){runSelect(t)},10)}function runTableSelects(t){"use strict";window.jQuery&&t.controller&&t.model?t.controller.make("TableSelects",{init:function(){var e=this;t.GlobalModel.onChange("filterHasRun",function(){e.setAllTo(!1)})},events:{"click .JS-TableSelects__All":function(e){var t=$(e.currentTarget);this.setAllTo(t.get(0).checked)},"change .JS-TableSelects__ItemSelector":function(e){this.rowSelectResponder($(e.currentTarget))},"click .JS-TableSelects__SelectRow":function(e){$(e.target).hasClass("JS-TableSelects__SelectEscape")||this.rowClickResponder($(e.currentTarget))}},setAllTo:function(e){this.$el.find(".JS-TableSelects__ItemSelector").prop("checked",e).trigger("change"),this.$el.find(".JS-TableSelects__All").prop("checked",e)},rowSelectResponder:function(e){var t=e.get(0).checked,n=e.closest(".JS-TableSelects__SelectRow"),i=n.data("selectedClass");i&&(t?n.addClass(i):n.removeClass(i))},rowClickResponder:function(e){var t=e.find(".JS-TableSelects__ItemSelector"),n=t.get(0).checked;t.prop("checked",!n).trigger("change")}}):setTimeout(function(){runTableSelects(t)},10)}function runMain(e,t){"use strict";if(window.jQuery&&e.controller&&e.model){var n=e.model.make({menuBreakPoint:"int",windowWidth:"int",filterHasRun:"int",selectIsLoading:"bool",selectHasLoaded:"bool",flatPickerIsLoading:"bool",flackPickerHasLoaded:"bool"});e.GlobalModel=new n({menuBreakPoint:1e3}),e.GlobalModel.set("windowWidth",t.innerWidth),$(t).on("resize.GlobalModel",function(){e.GlobalModel.set("windowWidth",t.innerWidth)}),e.controller.construct("MobileMenu",{el:"body"}),$(".JS-TableSelects").each(function(){e.controller.construct("TableSelects",{el:this})}),$(".JS-Filterable").each(function(){e.controller.construct("Filterable",{el:this})}),$(".JS-Select").each(function(){e.controller.construct("Select",{el:this})}),$(".JS-FlatPicker").each(function(){e.controller.construct("FlatPicker",{el:this})}),$(".JS-PipelineBuilder").each(function(){e.controller.construct("PipelineBuilder",{el:this})})}else setTimeout(function(){runMain(e,t)},1)}window.FABNAMESPACE="FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e,p){"use strict";var t=function(e){var t,n=p.getElementsByTagName("head")[0],i=e.root||"/",o="string"==typeof e.js?[e.js]:e.js,r="string"==typeof e.css?[e.css]:e.css,l=!0===e.async,s=0,a=!1,c=function(){0===s&&(a&&"function"==typeof e.failure?e.failure():a||"function"!=typeof e.success||e.success())};for(t in o)o.hasOwnProperty(t)&&s++;for(t in r)r.hasOwnProperty(t)&&s++;for(t in o)if(o.hasOwnProperty(t)){var u=p.createElement("script");u.async=!0===l,u.onload=function(){s--,c()},u.onerror=function(){s--,a=!0,c()},u.src=i+o[t],n.appendChild(u)}for(t in r)if(r.hasOwnProperty(t)){var d=p.createElement("link");d.addEventListener("load",function(){s--,c()},!1),d.addEventListener("error",function(){s--,a=!0,c()},!1),d.rel="stylesheet",d.href=i+r[t],n.appendChild(d)}};e.assets={load:function(e){new t(e)}}}(window[window.FABNAMESPACE],document),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},runFabController(window[window.FABNAMESPACE]),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e){"use strict";var l=[],t=function(r){var e;return"object"!=typeof r&&(r={}),(e=function(e){var t,n=this;for(var i in n.guid=(t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)})()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t(),l.push(n.guid),n.properties={},n.propertyTypes=r,n.changeEvents={},n.propertyTypes)n.propertyTypes.hasOwnProperty(i)&&(n.changeEvents[i]={});for(var o in e)e.hasOwnProperty(o)&&void 0!==n.propertyTypes[o]&&(n.properties[o]=e[o])}).prototype={get:function(e){var t=this;return t.properties[e]?"int"===t.propertyTypes[e]?parseInt(t.properties[e]):"float"===t.propertyTypes[e]?parseFloat(t.properties[e]):"string"===t.propertyTypes[e]?String(t.properties[e]):"bool"===t.propertyTypes[e]?!0===t.properties[e]:"array"===t.propertyTypes[e]?t.properties[e].constructor===Array?t.properties[e]:[]:"object"===t.propertyTypes[e]?t.properties[e].constructor===Object?t.properties[e]:{}:null:"int"===t.propertyTypes[e]||"float"===t.propertyTypes[e]?0:"string"===t.propertyTypes[e]?"":"bool"!==t.propertyTypes[e]&&("array"===t.propertyTypes[e]?[]:"object"===t.propertyTypes[e]?{}:null)},set:function(e,t){var n,i=this,o=!1,r=i.properties[e];if("int"===i.propertyTypes[e]?(i.properties[e]=parseInt(t),o=!0):"float"===i.propertyTypes[e]?(i.properties[e]=parseFloat(t),o=!0):"string"===i.propertyTypes[e]?(i.properties[e]=String(t),o=!0):"bool"===i.propertyTypes[e]?(i.properties[e]=!0===t||"true"===t||"yes"===t||"y"===t,o=!0):"array"===i.propertyTypes[e]?t.constructor===Array&&(i.properties[e]=t,o=!0):"object"===i.propertyTypes[e]&&t.constructor===Object&&(i.properties[e]=t,o=!0),o&&r!==i.properties[e]&&void 0!==i.changeEvents[e])for(var l in n=[i.properties[e],r],i.changeEvents[e])i.changeEvents[e][l].forEach(function(e){e.apply(e,n)})},onChange:function(e,t){var n=this,i=e.split(".");void 0!==n.propertyTypes[i[0]]&&(void 0===i[1]?(void 0===n.changeEvents[i[0]].noNameSpace&&(n.changeEvents[i[0]].noNameSpace=[]),n.changeEvents[i[0]].noNameSpace.push(t)):(void 0===n.changeEvents[i[0]][i[1]]&&(n.changeEvents[i[0]][i[1]]=[]),n.changeEvents[i[0]][i[1]].push(t)))},offChange:function(e){var t=e.split(".");void 0===t[1]?this.changeEvents[t[0]]={}:delete this.changeEvents[t[0]][t[1]]}},e};e.model={make:function(){return t.apply(t,arguments)},validateGuid:function(e){return-1<l.indexOf(e)}}}(window[window.FABNAMESPACE]),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e){"use strict";var t,n,i,o,r,l={},s=[];function a(){window.location.search===n&&window.location.hash===o||function(){if(i=(i=n=window.location.search).split("?")[1],r=(r=o=window.location.hash).split("#")[1],l={},s=[],i){s=i.split("&");for(var e=0;e<s.length;e++)t=s[e].split("="),l[t[0]]=t[1]}}()}e.url={getQueryString:function(){return a(),i},getQueryArray:function(){return a(),s},getQueryObject:function(){return a(),l},getQueryItem:function(e){return a(),l[e]||null},getHash:function(){return a(),r||null}}}(window[window.FABNAMESPACE]),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e){"use strict";window[window.FABNAMESPACE].uuid={make:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}}(),window.FAB=window.FAB||{},runFilterable(window.FAB),window.FAB=window.FAB||{},runFlatPicker(window.FAB),window.FAB=window.FAB||{},runMobileMenu(window.FAB),window.FAB=window.FAB||{},runPipelineBuilder(window.FAB),window.FAB=window.FAB||{},runSelect(window.FAB),window.FAB=window.FAB||{},runTableSelects(window.FAB),window.FAB=window.FAB||{},runMain(window.FAB,window);
//# sourceMappingURL=script.min.js.map
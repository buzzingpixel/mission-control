function runFabController(s){"use strict";if(void 0!==window.jQuery){var l=window.jQuery,n={},o=[],e=function(e,r){var t;return"object"==typeof e?(r=e,e=null):"string"!=typeof e&&(r={},e=null),t=function(e){var t,n,o=this,i=$.extend(!0,{},r);for(t in i)i.hasOwnProperty(t)&&(o[t]=i[t]);if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);if(o.el?"string"==typeof o.el?(o.$el=$(o.el),o.el=o.$el.get(0)):o.el instanceof l?(o.$el=o.el,o.el=o.$el.get(0)):o.el instanceof HTMLElement&&(o.$el=$(o.el)):(o.$el=$("<div></div>"),o.el=o.$el.get(0)),"object"==typeof o.model&&void 0!==s.model?s.model.validateGuid(o.model.guid)||(n=s.model.make(o.model),o.model=new n):void 0!==this.model&&(o.model=null),"function"==typeof o.init&&(Array.prototype.shift.apply(arguments),o.init.apply(o,arguments)),"object"==typeof o.events)for(t in o.events)o.events.hasOwnProperty(t)&&"function"==typeof o.events[t]&&function(e,t){e[1]?o.$el.on(e[0],e[1],function(){t.apply(o,arguments)}):o.$el.on(e[0],function(){t.apply(o,arguments)})}(t.split(" "),o.events[t])},e&&(n[e]=t),t};s.controller={make:function(){return e.apply(e,arguments)},construct:function(e){var t;return"function"!=typeof n[e]?null:(t=new(Function.prototype.bind.apply(n[e],arguments)),o.push(t),t)}}}else setTimeout(function(){runFabController(s)},10)}function runFilterable(i){"use strict";window.jQuery&&i.controller&&i.model?i.controller.make("Filterable",{$itemsContainer:null,$activeItems:null,$allItems:null,$searchInput:null,searchTimer:0,init:function(){var e=this;e.$itemsContainer=e.$el.find(".JS-Filterable__ItemsContainer"),e.$activeItems=e.$el.find(".JS-Filterable__Items"),e.$allItems=e.$activeItems.clone(),e.$searchInput=e.$el.find(".JS-Filterable__FilterInput"),e.model.onChange("activeSearchString",function(){e.searchStringResponder()})},model:{activeSearchString:"string"},events:{"change .JS-Filterable__FilterInput":function(e){this.model.set("activeSearchString",e.currentTarget.value.toLowerCase())},"keyup .JS-Filterable__FilterInput":function(e){this.model.set("activeSearchString",e.currentTarget.value.toLowerCase())},"keydown .JS-Filterable__FilterInput":function(e){13===e.keyCode&&e.preventDefault()}},searchStringResponder:function(){var e=this;clearTimeout(e.searchTimer),e.searchTimer=setTimeout(function(){e.runSearch()},200)},runSearch:function(){var t,e=this,n=e.model.get("activeSearchString"),o=e.$allItems.clone();n&&(t=$(),o.each(function(){var e=$(this);e.text().toLowerCase().indexOf(n)<0||(t=t.add(e))}),o=t),e.$activeItems.remove(),e.$activeItems=o,e.$itemsContainer.append(e.$activeItems),i.GlobalModel.set("filterHasRun",i.GlobalModel.get("filterHasRun")+1)}}):setTimeout(function(){runFilterable(i)},10)}function runFlatPicker(t){"use strict";window.jQuery&&t.controller&&t.model?t.controller.make("FlatPicker",{init:function(){var e=this;t.GlobalModel.get("flatPickerIsLoading")||e.load(),t.GlobalModel.get("flackPickerHasLoaded")?e.initReal():setTimeout(function(){e.init()},10)},load:function(){t.GlobalModel.set("flatPickerIsLoading",!0),t.assets.load({root:"https://cdn.jsdelivr.net",css:"/npm/flatpickr/dist/flatpickr.min.css"}),t.assets.load({root:"https://cdn.jsdelivr.net",js:"/npm/flatpickr",success:function(){t.GlobalModel.set("flackPickerHasLoaded",!0)}})},initReal:function(){window.flatpickr(this.el,{enableTime:!1,dateFormat:"Y-m-d"})}}):setTimeout(function(){runFlatPicker(t)},10)}function runMobileMenu(o){"use strict";window.jQuery&&o.controller&&o.model?o.controller.make("MobileMenu",{model:{isActive:"bool"},isMobile:!0,events:{"click .JS-MobileMenuActivator":function(e){e.preventDefault(),this.model.set("isActive",!this.model.get("isActive"))}},init:function(){var t=this;t.model.onChange("isActive",function(){t.menuResponder()}),t.resizeResponder(),o.GlobalModel.onChange("windowWidth",function(e){t.resizeResponder(e)})},resizeResponder:function(e){var t=this.isMobile,n=e>=o.GlobalModel.get("menuBreakPoint");n&&t&&(this.model.set("isActive",!1),this.deactivateMenu()),this.isMobile=!n},menuResponder:function(){var e=this,t=e.model.get("isActive"),n=o.GlobalModel.get("menuBreakPoint");window.innerWidth>=n?e.model.get("isActive")&&e.deactivateMenu():t?e.activateMenu():e.deactivateMenu()},activateMenu:function(){var t=this;$(".JS-MobileMenuActivator").each(function(){var e=$(this),t=e.data("activeClass");t&&e.addClass(t)}),$(".JS-MobileNav").each(function(){var e=$(this),t=e.data("preActiveClass"),n=e.data("activeClass");e.addClass(t),setTimeout(function(){e.addClass(n)},20)}),$("body").on("keyup.MobileMenu",function(e){27===e.keyCode&&t.model.set("isActive",!1)})},deactivateMenu:function(){$(".JS-MobileMenuActivator").each(function(){var e=$(this),t=e.data("activeClass");t&&e.removeClass(t)}),$(".JS-MobileNav").each(function(){var e=$(this),t=e.data("preActiveClass"),n=e.data("activeClass");e.removeClass(n),setTimeout(function(){e.removeClass(t)},200)}),$("body").off("keyup.MobileMenu")}}):setTimeout(function(){runMobileMenu(o)},10)}function runSelect(t){"use strict";window.jQuery&&t.controller&&t.model?t.controller.make("Select",{init:function(){var e=this;t.GlobalModel.get("selectIsLoading")||e.loadSelect(),t.GlobalModel.get("selectHasLoaded")?e.initReal():setTimeout(function(){e.init()},10)},loadSelect:function(){t.GlobalModel.set("selectIsLoading",!0),t.assets.load({root:"/",js:"assets/node_modules/choices.js/public/assets/scripts/choices.min.js",css:"assets/node_modules/choices.js/public/assets/styles/choices.min.css",success:function(){t.GlobalModel.set("selectHasLoaded",!0)}})},initReal:function(){new window.Choices(this.el,{searchResultLimit:8,shouldSort:!1})}}):setTimeout(function(){runSelect(t)},10)}function runTableSelects(t){"use strict";window.jQuery&&t.controller&&t.model?t.controller.make("TableSelects",{init:function(){var e=this;t.GlobalModel.onChange("filterHasRun",function(){e.setAllTo(!1)})},events:{"click .JS-TableSelects__All":function(e){var t=$(e.currentTarget);this.setAllTo(t.get(0).checked)},"change .JS-TableSelects__ItemSelector":function(e){this.rowSelectResponder($(e.currentTarget))},"click .JS-TableSelects__SelectRow":function(e){$(e.target).hasClass("JS-TableSelects__SelectEscape")||this.rowClickResponder($(e.currentTarget))}},setAllTo:function(e){this.$el.find(".JS-TableSelects__ItemSelector").prop("checked",e).trigger("change"),this.$el.find(".JS-TableSelects__All").prop("checked",e)},rowSelectResponder:function(e){var t=e.get(0).checked,n=e.closest(".JS-TableSelects__SelectRow"),o=n.data("selectedClass");o&&(t?n.addClass(o):n.removeClass(o))},rowClickResponder:function(e){var t=e.find(".JS-TableSelects__ItemSelector"),n=t.get(0).checked;t.prop("checked",!n).trigger("change")}}):setTimeout(function(){runTableSelects(t)},10)}function runMain(e,t){"use strict";if(window.jQuery&&e.controller&&e.model){var n=e.model.make({menuBreakPoint:"int",windowWidth:"int",filterHasRun:"int",selectIsLoading:"bool",selectHasLoaded:"bool",flatPickerIsLoading:"bool",flackPickerHasLoaded:"bool"});e.GlobalModel=new n({menuBreakPoint:1e3}),e.GlobalModel.set("windowWidth",t.innerWidth),$(t).on("resize.GlobalModel",function(){e.GlobalModel.set("windowWidth",t.innerWidth)}),e.controller.construct("MobileMenu",{el:"body"}),$(".JS-TableSelects").each(function(){e.controller.construct("TableSelects",{el:this})}),$(".JS-Filterable").each(function(){e.controller.construct("Filterable",{el:this})}),$(".JS-Select").each(function(){e.controller.construct("Select",{el:this})}),$(".JS-FlatPicker").each(function(){e.controller.construct("FlatPicker",{el:this})})}else setTimeout(function(){runMain(e,t)},1)}window.FABNAMESPACE="FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e,p){"use strict";var t=function(e){var t,n=p.getElementsByTagName("head")[0],o=e.root||"/",i="string"==typeof e.js?[e.js]:e.js,r="string"==typeof e.css?[e.css]:e.css,s=!0===e.async,l=0,a=!1,c=function(){0===l&&(a&&"function"==typeof e.failure?e.failure():a||"function"!=typeof e.success||e.success())};for(t in i)i.hasOwnProperty(t)&&l++;for(t in r)r.hasOwnProperty(t)&&l++;for(t in i)if(i.hasOwnProperty(t)){var u=p.createElement("script");u.async=!0===s,u.onload=function(){l--,c()},u.onerror=function(){l--,a=!0,c()},u.src=o+i[t],n.appendChild(u)}for(t in r)if(r.hasOwnProperty(t)){var d=p.createElement("link");d.addEventListener("load",function(){l--,c()},!1),d.addEventListener("error",function(){l--,a=!0,c()},!1),d.rel="stylesheet",d.href=o+r[t],n.appendChild(d)}};e.assets={load:function(e){new t(e)}}}(window[window.FABNAMESPACE],document),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},runFabController(window[window.FABNAMESPACE]),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e){"use strict";var s=[],t=function(r){var e;return"object"!=typeof r&&(r={}),(e=function(e){var t,n=this;for(var o in n.guid=(t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)})()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t(),s.push(n.guid),n.properties={},n.propertyTypes=r,n.changeEvents={},n.propertyTypes)n.propertyTypes.hasOwnProperty(o)&&(n.changeEvents[o]={});for(var i in e)e.hasOwnProperty(i)&&void 0!==n.propertyTypes[i]&&(n.properties[i]=e[i])}).prototype={get:function(e){var t=this;return t.properties[e]?"int"===t.propertyTypes[e]?parseInt(t.properties[e]):"float"===t.propertyTypes[e]?parseFloat(t.properties[e]):"string"===t.propertyTypes[e]?String(t.properties[e]):"bool"===t.propertyTypes[e]?!0===t.properties[e]:"array"===t.propertyTypes[e]?t.properties[e].constructor===Array?t.properties[e]:[]:"object"===t.propertyTypes[e]?t.properties[e].constructor===Object?t.properties[e]:{}:null:"int"===t.propertyTypes[e]||"float"===t.propertyTypes[e]?0:"string"===t.propertyTypes[e]?"":"bool"!==t.propertyTypes[e]&&("array"===t.propertyTypes[e]?[]:"object"===t.propertyTypes[e]?{}:null)},set:function(e,t){var n,o=this,i=!1,r=o.properties[e];if("int"===o.propertyTypes[e]?(o.properties[e]=parseInt(t),i=!0):"float"===o.propertyTypes[e]?(o.properties[e]=parseFloat(t),i=!0):"string"===o.propertyTypes[e]?(o.properties[e]=String(t),i=!0):"bool"===o.propertyTypes[e]?(o.properties[e]=!0===t||"true"===t||"yes"===t||"y"===t,i=!0):"array"===o.propertyTypes[e]?t.constructor===Array&&(o.properties[e]=t,i=!0):"object"===o.propertyTypes[e]&&t.constructor===Object&&(o.properties[e]=t,i=!0),i&&r!==o.properties[e]&&void 0!==o.changeEvents[e])for(var s in n=[o.properties[e],r],o.changeEvents[e])o.changeEvents[e][s].forEach(function(e){e.apply(e,n)})},onChange:function(e,t){var n=this,o=e.split(".");void 0!==n.propertyTypes[o[0]]&&(void 0===o[1]?(void 0===n.changeEvents[o[0]].noNameSpace&&(n.changeEvents[o[0]].noNameSpace=[]),n.changeEvents[o[0]].noNameSpace.push(t)):(void 0===n.changeEvents[o[0]][o[1]]&&(n.changeEvents[o[0]][o[1]]=[]),n.changeEvents[o[0]][o[1]].push(t)))},offChange:function(e){var t=e.split(".");void 0===t[1]?this.changeEvents[t[0]]={}:delete this.changeEvents[t[0]][t[1]]}},e};e.model={make:function(){return t.apply(t,arguments)},validateGuid:function(e){return-1<s.indexOf(e)}}}(window[window.FABNAMESPACE]),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e){"use strict";var t,n,o,i,r,s={},l=[];function a(){window.location.search===n&&window.location.hash===i||function(){if(o=(o=n=window.location.search).split("?")[1],r=(r=i=window.location.hash).split("#")[1],s={},l=[],o){l=o.split("&");for(var e=0;e<l.length;e++)t=l[e].split("="),s[t[0]]=t[1]}}()}e.url={getQueryString:function(){return a(),o},getQueryArray:function(){return a(),l},getQueryObject:function(){return a(),s},getQueryItem:function(e){return a(),s[e]||null},getHash:function(){return a(),r||null}}}(window[window.FABNAMESPACE]),window.FAB=window.FAB||{},runFilterable(window.FAB),window.FAB=window.FAB||{},runFlatPicker(window.FAB),window.FAB=window.FAB||{},runMobileMenu(window.FAB),window.FAB=window.FAB||{},runSelect(window.FAB),window.FAB=window.FAB||{},runTableSelects(window.FAB),window.FAB=window.FAB||{},runMain(window.FAB,window);
//# sourceMappingURL=script.min.js.map